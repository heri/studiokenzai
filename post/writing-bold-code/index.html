  <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Writing Bold Code &middot; Studio Zenkai </title>
    
    <link rel="stylesheet" type="text/css" href="http://studiozenkai.com//css/uno.css" />
    <link rel="stylesheet" type="text/css" href="http://studiozenkai.com//css/lightGallery.css" />
    
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.ico">
    
    <link href="http://studiozenkai.com/index.xml" rel="alternate" type="application/rss+xml" title="Studio Zenkai" />
    
    <script src="http://studiozenkai.com//js/jquery.min.js"></script>
    <script src="http://studiozenkai.com//js/main.min.js">
    </script>
</head>

  <body>
    <div id="scriptHeader">
    <span class="mobile btn-mobile-menu">
            <i class="fa fa-bars btn-mobile-menu__icon"></i>
            <i class="fa fa-times btn-mobile-close__icon hidden"> </i>
    </span>
    <header class="
        
            panel-cover panel-cover--collapsed
        " >
    <div class="panel-main">
        <div class="panel-main__inner panel-inverted">
            <div class="panel-main__content"> 
                <h1 class="panel-cover__title panel-title">
                    <a href="http://studiozenkai.com//"  title="link to homepage for Studio Zenkai">Studio Zenkai</a>
                </h1>
                <hr class="panel-cover__divider" />
                <p class="panel-cover__description">Bold and Clear, without excess • Kaizen 改善 • With Purpose</p>
                <hr class="panel-cover__divider panel-cover__divider--secondary" />
                <p>Studio Zenkai is dedicated to the craft of digital innovation. We push boundaries in web platforms and mobile applications — from healthcare, sports and fitness, travel, ecommerce to home automation. Every day, we invent, rethink or perfect tools in big data, Internet of Things, image analysis and recognition, neural networks including deep learning, with a special focus on superior user experience.</p>
                <hr class="panel-cover__divider panel-cover__divider--secondary" />
                <div class="navigation-wrapper">
                    <nav class="cover-navigation cover-navigation--primary">
                        <ul class="navigation">
                            <li class="navigation__item"><a href="http://studiozenkai.com/#blog" title="link to Studio Zenkai blog" class="blog-button">Articles</a> </li>
                            
                            
                       </ul>
                    </nav> <nav class="cover-navigation navigation--social">
    <ul class="navigation">
        
        <li class="navigation__item">
            <a href="http://twitter.com/heri" title="@heri on Twitter"> <i class='fa fa-twitter'></i> <span class="label">Twitter</span> </a>
        </li> 
        
        <li class="navigation__item">
            <a href="https://github.com/heri" title="heri on github"> <i class='fa fa-github'></i> <span class="label">Github</span> </a>
        </li> 
        
        <li class="navigation__item">
            <a href="http://medium.com/@heri" title="Medium"> <i class='fa fa-medium'></i> <span class="label">Medium</span> </a>
        </li>
        
        <li class="navigation__item">
            <a href="mailto:heri@studiozenkai.com" title="Email"> <i class='fa fa-envelope-o'></i> <span class="label">Email</span> </a>
        </li>  </ul>
</nav>
 </div>
            </div>
        </div>
        <div class="panel-cover--overlay"></div>
    </div>
</header>
</div>
<noscript>
    <style>
        #scriptHeader {display:none;}
        .navigation-wrapper{
            display: block;
            top: 0;
        }
    </style>

    <header class="panel-cover panel-cover--collapsed" style="background-image: url()">
        <div class="panel-main">
            <div class="panel-main__inner panel-inverted">
                <div class="panel-main__content"> 
                    <h1 class="panel-cover__title panel-title">
                        <a href="http://studiozenkai.com//"  title="link to homepage for Studio Zenkai">Studio Zenkai</a>
                    </h1>
                    <hr class="panel-cover__divider" />
                    <p class="panel-cover__description">  This site is built using <a href="http://gohugo.io">hugo</a> and the theme is built by <a href="http://fredrikloch.me">Fredrik</a> if you enjoy it, it is available at <a href="https://github.com/SenjinDarashiva/hugo-uno">github</a>  </p>
                    <hr class="panel-cover__divider panel-cover__divider--secondary" />
                    <div class="navigation-wrapper">
                        <nav class="cover-navigation cover-navigation--primary">
                            <ul class="navigation">
                                <li class="navigation__item"><a href="http://studiozenkai.com//#blog" title="link to Studio Zenkai blog" class="blog-button">Blog</a> </li></br>
                                
                                
                           </ul>
                        </nav> <nav class="cover-navigation navigation--social">
    <ul class="navigation">
        
        <li class="navigation__item">
            <a href="http://twitter.com/heri" title="@heri on Twitter"> <i class='fa fa-twitter'></i> <span class="label">Twitter</span> </a>
        </li> 
        
        <li class="navigation__item">
            <a href="https://github.com/heri" title="heri on github"> <i class='fa fa-github'></i> <span class="label">Github</span> </a>
        </li> 
        
        <li class="navigation__item">
            <a href="http://medium.com/@heri" title="Medium"> <i class='fa fa-medium'></i> <span class="label">Medium</span> </a>
        </li>
        
        <li class="navigation__item">
            <a href="mailto:heri@studiozenkai.com" title="Email"> <i class='fa fa-envelope-o'></i> <span class="label">Email</span> </a>
        </li>  </ul>
</nav>
 </div>
                </div>
            </div>
            <div class="panel-cover--overlay"></div>
        </div>
    </header>
</noscript>

    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <div class="post">
          <h1>Writing Bold Code</h1>
          <span class="post-date">Thu, May 18, 2017</span>
          <p>I wrote a <a href="http://studiozenkai.com/post/ruby-performance-checklist/">Ruby Performance Checklist</a>. Since then, I have seen the performance panel at RailsConf. Richard Schneeman (@schneems) then wrote an <a href="http://schneems.com/2017/05/17/ruby-backend-performance-getting-started-guide/">article on back-end performance</a>, which starts by memory profiling tools like <code>scout</code> or <code>rack-mini-profiler</code>.</p>

<p>I like his article. My checklist started by Ruby code complexity. If you refactor well your code and make it simpler, it is actually the same strategy as advised by @schneems.</p>

<p>This begs the question: why do we always always discuss Ruby performance?</p>

<p>A quick answer is that Ruby is slow and takes too much memory.</p>

<p>This is false. Ruby is as fast as many other languages, like Python or Erlang. Methods like <code>sort</code> or <code>select</code> are in C and are <em>very fast</em>.</p>

<p>It also possible to write a program in C that&rsquo;s slower than Ruby for the same purpose. See <a href="http://rubyquiz.com/quiz44.html">here</a> how a simple Ruby solution is better than another C implementation. As mentioned in the previous article, there are also frameworks like roda which are faster than nodejs or go frameworks.</p>

<p>I believe the main reason Ruby apps, and especially Rails apps, are slower are because most of them are unecessarily complex and also naively implement features, instead of being economical.</p>

<p>DHH for instance advises to create as many controllers as possible. You might get only one action per file, and get &gt;100 controller files. This other <a href="https://www.youtube.com/watch?v=52qChRS4M0Y">keynote by Andrew Hao</a> tells how he designs so-called &ldquo;beautiful systems&rdquo; by separating files into different namespaces. He continues and adds different initializers, adapters and layers. Are we done yet? Probably not, because having different layers will increase the need for security mechanisms. Andrew Hao will probably advise you to get another AWS instance and pay more developers, like DHH does.</p>

<p>These are all expensive. Writing yet another method, called only once, is expensive. Adding another instance variable instead of using the existing is expensive. Callbacks &amp; middleware are expensive. All the kitchen sink is expensive. And if you have a junior programmer in the team who likes to load all users with all comments and posts, because he can do that in one line with Ruby, that&rsquo;s prohibitively expensive. A homepage request might allocate thousands and thousands of objects. I just have the impression that the Ruby (esp. Rails) community attracts people who code like there is no tomorrow.</p>

<p>This is not specific to Ruby. I can have the same impression when reviewing code Javascript, php or many other languages.</p>

<p>What does all this mean? Practically it&rsquo;s often a mess, because it&rsquo;s too easy to add &ldquo;stuff&rdquo;. We all want to please, add more features, support more formats, add more conditions for edge and bondary cases. Because that justifies our salary, our budget or yet another push request to our name.</p>

<p>What if there is another alternative? You will be interested in principles I have been following lately when writing code:</p>

<ol>
<li>Whatever you do, it has been already done (better) somewhere else</li>
<li>Otherwise, write as least as possible</li>
<li>And write boldly!</li>
</ol>

<p>For (1), it means that many other programmers already invested valuable brain-hours in the issue. Whatever you can come up with, it is better in 98% of the cases to use what they&rsquo;ve done. For example, don&rsquo;t try to re-implement time zones. Don&rsquo;t try to code another time reservation system. Don&rsquo;t develop an Uber clone. Don&rsquo;t think you can do a better queue system. You will loose and cry in a corner.</p>

<p>It does not mean to use any library you found on Github. It can be bloated, full of issues and unnecessary complex. I find a good programmer must spend good time in using various libraries, test them thouroughly, see what makes one better than the other, and make this a life-long practice. And, instead of writing 100 lines, you will find yourself writing just two configuration lines in the future.</p>

<p>(2) : If your use case requires new code, then restrain yourself from writing new lines or characters as much as possible. If a new line is trivial, then there must be ways to skip it. But if your lines are so dense and complicated that a fresh pair of eyes will get lost trying to follow its meandering, splitting logic, then you probably haven&rsquo;t tried hard it enough to make your code simpler and shorter.</p>

<p>Like (1) above, this does not come naturally. Beginners are tempted to write, line after line. One of my mantra is every time I re-read a line of my code, I try to improve it. Everytime, try to make it shorter. Make it easier to read. This gets harder with time, but then after a few thousands trials, there is a significant difference, until it becomes a natural, elegant and powerful flow.</p>

<p>Pro tip: it helps also reading people&rsquo;s algorithms. And of course it helps to know the idioms in your particular language.</p>

<p>(3) : so what does boldness has anything to do with programming? Well, many developers want to please and try to accept anything. Yet they don&rsquo;t even know what their customers want, and so they also send supplementary data. Those are the grey translucent fields that go from meta-tags, extra dates, object state to dozens of other data points that only makes everyone confused. Have you decided yet? I find therefore there&rsquo;s a value in being bold, by showing 1 input and 1 output, and by discarding everything else :D Users might be surprised by the sparsity of the data, but they will thank you for the clarity, and the freshness of your app.</p>

<p>Rewritten in a different way, (3) means to choose to do only 1 thing and do it well. You don&rsquo;t get any value by doing like everyone else. If a customer, a partner or a manager says &ldquo;It would be good if it also &hellip;&rdquo;. Well you should be firm in your position and also review your relationship with them. Be Bold, young dev!</p>

          <div class="sharing">
<p>© Heri Rakotomalala. All rights reserved. Powered by <a href="https://www.digitalocean.com/?refcode=ef57f6ccd2d8">Digital Ocean</a></p>

<p>Heri Rakotomalala is an engineer working on web and mobile technology. Originally from Madagascar, he has lived 7 years in East Africa, studied Engineering and made friends in France, built a community building in Esteli, Nicaragua and is taking pictures and coding in Montréal, Canada. This site cover technology work. You can also find travel <a href="http://klaio.com/en/users/1/collections">reports on Klaio</a>.</p>

</div>

        </div>
      </div>
    </div>

  </body>
  
</html>
